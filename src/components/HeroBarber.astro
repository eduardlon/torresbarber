---
interface BarberCard {
  id: string;
  name: string;
  alias: string;
  role: string;
  headline: string;
  description: string;
  agendaUrl: string;
  image: string;
  featured: string;
}

const barbers: BarberCard[] = [
  {
    id: 'juan',
    name: 'Juan Torres',
    alias: 'JP',
    role: 'Director Creativo',
    headline: 'Cirugía capilar de alto impacto',
    description:
      'Benchmark en barbería fina de Medellín. Experto en rituales premium y cortes de precisión que conquistan escenarios y cámaras.',
    agendaUrl: '/agendar?barbero=1',
    image: '/images/barberos/juantorres.webp',
    featured: '/images/barberos/juantorresh.webp'
  },
  {
    id: 'carlos',
    name: 'Carlos Jiménez',
    alias: 'CJ',
    role: 'Especialista Fade & Barber Art',
    headline: 'Fade + arte urbano en estado puro',
    description:
      'Barber art champion. Fusiona técnicas clásicas con líneas futuristas para looks que brillan tanto en el ring como en la calle.',
    agendaUrl: '/agendar?barbero=2',
    image: '/images/barberos/CJ.webp',
    featured: '/images/barberos/Cjh.webp'
  }
];

const defaultBarber = barbers[0];
const encodedBarbers = encodeURIComponent(JSON.stringify(barbers));
---

<section class="velada-hero">
  <div class="velada-hero__nebula"></div>
  <div class="velada-hero__stars"></div>
  <div class="velada-hero__stars-moving"></div>
  <div class="velada-hero__stars-twinkling"></div>
  <div class="velada-hero__particles"></div>
  <div class="velada-hero__beam velada-hero__beam--left"></div>
  <div class="velada-hero__beam velada-hero__beam--right"></div>

  <div class="velada-hero__content">
    <div class="velada-hero__stage">
      <div class="velada-hero__selection">
        <button
          type="button"
          class="velada-card velada-card--left"
          data-barber-card
          data-id={barbers[0].id}
          aria-pressed="false"
          data-active="false"
        >
          <span class="velada-card__glow"></span>
          <span class="velada-card__frame">
            <img src={barbers[0].image} alt={`Retrato de ${barbers[0].name}`} class="velada-card__image" loading="lazy" />
            <span class="velada-card__info">
              <span class="velada-card__alias">{barbers[0].alias}</span>
              <span class="velada-card__name">{barbers[0].name}</span>
              <span class="velada-card__role">{barbers[0].role}</span>
            </span>
          </span>
        </button>

        <div class="velada-hero__center">
          <header class="velada-hero__header">
            <h1 class="velada-hero__title">Elige tu <span>Barbero</span></h1>
            <p class="velada-hero__subtitle">Selecciona un barbero para ver su información</p>
          </header>

          <div class="velada-hero__spotlight" style="display: none;">
            <div class="velada-hero__spotlight-glow"></div>
            <img
              id="velada-featured-image"
              src={defaultBarber.featured}
              alt={`Barbero ${defaultBarber.name}`}
              class="velada-hero__portrait-image"
              loading="lazy"
            />
            <div class="velada-hero__overlay">
              <div class="velada-hero__info-container">
                <span id="velada-featured-alias" class="velada-hero__alias">{defaultBarber.alias}</span>
                <h2 id="velada-featured-name" class="velada-hero__name">{defaultBarber.name}</h2>
                <p id="velada-featured-role" class="velada-hero__role">{defaultBarber.role}</p>
              </div>
              <a
                id="velada-featured-cta"
                class="velada-hero__cta"
                href={defaultBarber.agendaUrl}
                aria-label={`Agendar cita con ${defaultBarber.name}`}
              >
                Agenda conmigo
                <svg class="velada-hero__cta-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </a>
            </div>
          </div>
        </div>

        <button
          type="button"
          class="velada-card velada-card--right"
          data-barber-card
          data-id={barbers[1].id}
          aria-pressed="false"
          data-active="false"
        >
          <span class="velada-card__glow"></span>
          <span class="velada-card__frame">
            <img src={barbers[1].image} alt={`Retrato de ${barbers[1].name}`} class="velada-card__image" loading="lazy" />
            <span class="velada-card__info">
              <span class="velada-card__alias">{barbers[1].alias}</span>
              <span class="velada-card__name">{barbers[1].name}</span>
              <span class="velada-card__role">{barbers[1].role}</span>
            </span>
          </span>
        </button>
      </div>
    </div>
  </div>
</section>

<script define:vars={{ encodedBarbers }}>
  const HERO_BARBERS = JSON.parse(decodeURIComponent(encodedBarbers));

  document.addEventListener('DOMContentLoaded', () => {
    const cards = Array.from(document.querySelectorAll('[data-barber-card]'));
    const featuredImage = document.getElementById('velada-featured-image');
    const featuredAlias = document.getElementById('velada-featured-alias');
    const featuredName = document.getElementById('velada-featured-name');
    const featuredRole = document.getElementById('velada-featured-role');
    const featuredCta = document.getElementById('velada-featured-cta');
    const header = document.querySelector('.velada-hero__header');
    const spotlight = document.querySelector('.velada-hero__spotlight');

    let isSelected = false;
    let selectedCard = null;
    let currentHoveredCard = null;

    const showSpotlight = () => {
      if (header) header.classList.add('hidden');
      if (spotlight) {
        spotlight.style.display = 'block';
        setTimeout(() => {
          spotlight.classList.add('visible');
        }, 10);
      }
    };

    const hideSpotlight = () => {
      if (spotlight) {
        spotlight.classList.remove('visible');
        setTimeout(() => {
          spotlight.style.display = 'none';
        }, 300);
      }
      if (header) header.classList.remove('hidden');
    };

    const swapFeatured = (id) => {
      const barber = HERO_BARBERS.find((item) => item.id === id);
      if (!barber) return;

      if (featuredImage) {
        featuredImage.classList.add('is-swapping');
        window.setTimeout(() => {
          featuredImage.src = barber.featured;
          featuredImage.alt = `Barbero ${barber.name}`;
          featuredImage.classList.remove('is-swapping');
        }, 300);
      }
      if (featuredAlias) featuredAlias.textContent = barber.alias;
      if (featuredName) featuredName.textContent = barber.name;
      if (featuredRole) featuredRole.textContent = barber.role;
      if (featuredCta) {
        featuredCta.href = barber.agendaUrl;
        featuredCta.setAttribute('aria-label', `Agendar cita con ${barber.name}`);
      }
    };

    const setActiveCard = (activeCard) => {
      cards.forEach((card) => {
        const isActive = card === activeCard;
        card.dataset.active = isActive ? 'true' : 'false';
        card.setAttribute('aria-pressed', isActive ? 'true' : 'false');
      });
    };

    const handleMouseEnter = (card) => {
      if (isSelected) return;

      const { id } = card.dataset;
      if (!id) return;

      currentHoveredCard = card;
      showSpotlight();
      setActiveCard(card);
      swapFeatured(id);
    };

    const handleMouseLeave = () => {
      if (isSelected) return;

      currentHoveredCard = null;
      hideSpotlight();
      cards.forEach((card) => {
        card.dataset.active = 'false';
        card.setAttribute('aria-pressed', 'false');
      });
    };

    const handleClick = (card) => {
      const { id } = card.dataset;
      if (!id) return;

      if (isSelected && selectedCard === card) {
        isSelected = false;
        selectedCard = null;
        hideSpotlight();
        cards.forEach((c) => {
          c.dataset.active = 'false';
          c.setAttribute('aria-pressed', 'false');
        });
      } else {
        isSelected = true;
        selectedCard = card;
        showSpotlight();
        setActiveCard(card);
        swapFeatured(id);
      }
    };

    cards.forEach((card) => {
      card.addEventListener('mouseenter', () => handleMouseEnter(card));
      card.addEventListener('mouseleave', handleMouseLeave);
      card.addEventListener('click', () => handleClick(card));
      card.addEventListener('focus', () => handleMouseEnter(card));
      card.addEventListener('blur', handleMouseLeave);
      card.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          handleClick(card);
        }
      });
    });
  });
</script>

<style>
  .velada-hero {
    position: relative;
    overflow: hidden;
    padding: clamp(2rem, 4vw, 3rem) 1.5rem clamp(3rem, 6vw, 4rem);
    color: #f8fafc;
    background: #000000;
    isolation: isolate;
    transition: background 0.5s ease, color 0.5s ease;
  }

  html:not(.dark) .velada-hero {
    color: #0f172a;
    background: linear-gradient(135deg, #ffffff 0%, #f9fafb 50%, #f5f5f7 100%);
  }

  .velada-hero__nebula,
  .velada-hero__stars,
  .velada-hero__stars-moving,
  .velada-hero__stars-twinkling,
  .velada-hero__particles,
  .velada-hero__beam {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    opacity: 1;
    transition: opacity 0.5s ease;
  }

  html:not(.dark) .velada-hero__nebula,
  html:not(.dark) .velada-hero__stars,
  html:not(.dark) .velada-hero__stars-moving,
  html:not(.dark) .velada-hero__stars-twinkling,
  html:not(.dark) .velada-hero__particles,
  html:not(.dark) .velada-hero__beam {
    opacity: 0;
    pointer-events: none;
  }

  .velada-hero__nebula {
    background:
      radial-gradient(circle at 15% 25%, rgba(220, 38, 38, 0.15), transparent 50%),
      radial-gradient(circle at 85% 70%, rgba(185, 28, 28, 0.12), transparent 55%),
      radial-gradient(circle at 50% 90%, rgba(127, 29, 29, 0.1), transparent 60%),
      radial-gradient(circle at 40% 40%, rgba(220, 38, 38, 0.08), transparent 65%);
    filter: blur(100px);
    opacity: 0.5;
    animation: nebula-pulse 20s ease-in-out infinite alternate;
  }

  .velada-hero__stars {
    background-image:
      radial-gradient(3px 3px at 15% 20%, rgba(255, 255, 255, 1), transparent),
      radial-gradient(2px 2px at 25% 45%, rgba(255, 255, 255, 0.95), transparent),
      radial-gradient(3.5px 3.5px at 35% 15%, rgba(220, 38, 38, 1), transparent),
      radial-gradient(1.5px 1.5px at 45% 65%, rgba(255, 255, 255, 0.9), transparent),
      radial-gradient(2.5px 2.5px at 55% 35%, rgba(220, 38, 38, 0.95), transparent),
      radial-gradient(2px 2px at 65% 80%, rgba(255, 255, 255, 0.85), transparent),
      radial-gradient(3px 3px at 75% 25%, rgba(255, 255, 255, 1), transparent),
      radial-gradient(1.5px 1.5px at 85% 55%, rgba(220, 38, 38, 0.9), transparent),
      radial-gradient(2.5px 2.5px at 90% 75%, rgba(255, 255, 255, 0.95), transparent),
      radial-gradient(2px 2px at 20% 85%, rgba(255, 255, 255, 0.85), transparent),
      radial-gradient(2.5px 2.5px at 10% 50%, rgba(220, 38, 38, 0.9), transparent),
      radial-gradient(1.5px 1.5px at 92% 30%, rgba(255, 255, 255, 0.8), transparent),
      radial-gradient(3px 3px at 50% 50%, rgba(255, 255, 255, 1), transparent),
      radial-gradient(2px 2px at 30% 70%, rgba(220, 38, 38, 0.85), transparent),
      radial-gradient(2.5px 2.5px at 70% 60%, rgba(220, 38, 38, 0.9), transparent);
    background-size: 100% 100%;
    background-position: 0% 0%;
    opacity: 1;
  }

  .velada-hero__stars-moving {
    background-image:
      radial-gradient(2px 2px at 10% 30%, white, transparent),
      radial-gradient(2.5px 2.5px at 30% 60%, rgba(220, 38, 38, 1), transparent),
      radial-gradient(1.5px 1.5px at 50% 20%, white, transparent),
      radial-gradient(2px 2px at 70% 80%, rgba(220, 38, 38, 1), transparent),
      radial-gradient(2.5px 2.5px at 90% 40%, white, transparent),
      radial-gradient(1.5px 1.5px at 5% 70%, rgba(255, 255, 255, 0.95), transparent),
      radial-gradient(2px 2px at 95% 15%, rgba(220, 38, 38, 0.95), transparent),
      radial-gradient(2.5px 2.5px at 40% 50%, rgba(255, 255, 255, 1), transparent),
      radial-gradient(2px 2px at 60% 35%, rgba(220, 38, 38, 0.95), transparent);
    background-size: 200% 200%;
    animation: stars-moving 60s linear infinite;
    opacity: 0.9;
  }

  .velada-hero__stars-twinkling {
    background-image:
      radial-gradient(3px 3px at 12% 18%, white, transparent),
      radial-gradient(2px 2px at 28% 42%, rgba(220, 38, 38, 1), transparent),
      radial-gradient(2.5px 2.5px at 38% 68%, white, transparent),
      radial-gradient(2px 2px at 52% 32%, rgba(220, 38, 38, 1), transparent),
      radial-gradient(3px 3px at 68% 58%, white, transparent),
      radial-gradient(2px 2px at 78% 78%, rgba(220, 38, 38, 1), transparent),
      radial-gradient(2.5px 2.5px at 88% 28%, white, transparent),
      radial-gradient(2px 2px at 18% 88%, rgba(255, 255, 255, 1), transparent),
      radial-gradient(2.5px 2.5px at 62% 12%, rgba(220, 38, 38, 1), transparent),
      radial-gradient(1.5px 1.5px at 8% 52%, rgba(255, 255, 255, 0.95), transparent),
      radial-gradient(3px 3px at 45% 45%, rgba(255, 255, 255, 1), transparent),
      radial-gradient(2px 2px at 82% 65%, rgba(220, 38, 38, 0.95), transparent);
    background-size: 150% 150%;
    animation: stars-twinkle 2.5s ease-in-out infinite;
    opacity: 0.85;
  }

  .velada-hero__particles {
    background-image:
      radial-gradient(circle, rgba(220, 38, 38, 0.7) 2px, transparent 2px),
      radial-gradient(circle, rgba(220, 38, 38, 0.6) 1.5px, transparent 1.5px),
      radial-gradient(circle, rgba(220, 38, 38, 0.65) 2px, transparent 2px),
      radial-gradient(circle, rgba(255, 255, 255, 0.5) 1.5px, transparent 1.5px),
      radial-gradient(circle, rgba(220, 38, 38, 0.55) 1.5px, transparent 1.5px),
      radial-gradient(circle, rgba(255, 255, 255, 0.45) 1px, transparent 1px);
    background-size: 300px 300px, 450px 450px, 600px 600px, 220px 220px, 380px 380px, 150px 150px;
    background-position: 0 0, 50px 60px, 130px 270px, 70px 100px, 200px 150px, 30px 40px;
    animation: particles-float 50s linear infinite;
    opacity: 0.7;
  }

  .velada-hero__beam {
    top: -20%;
    width: 45%;
    height: 160%;
    background: linear-gradient(180deg, rgba(220, 38, 38, 0) 0%, rgba(220, 38, 38, 0.4) 35%, rgba(220, 38, 38, 0.35) 50%, rgba(220, 38, 38, 0.3) 65%, rgba(220, 38, 38, 0) 100%);
    filter: blur(70px);
    opacity: 0.6;
    animation: beam-glow 10s ease-in-out infinite alternate;
  }

  .velada-hero__beam--left {
    left: -18%;
    transform: rotate(-18deg);
    animation-delay: -2s;
  }

  .velada-hero__beam--right {
    right: -18%;
    transform: rotate(18deg);
    animation-delay: -5s;
  }

  @keyframes beam-glow {
    0% {
      opacity: 0.4;
      filter: blur(60px);
      transform: translateY(0);
    }
    50% {
      opacity: 0.7;
      filter: blur(50px);
      transform: translateY(-5%);
    }
    100% {
      opacity: 0.45;
      filter: blur(65px);
      transform: translateY(0);
    }
  }

  .velada-hero__content {
    position: relative;
    z-index: 10;
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .velada-hero__stage {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
  }

  .velada-hero__center {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: clamp(18rem, 30vw, 24rem);
  }

  .velada-hero__header {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    gap: 0.8rem;
    transition: opacity 0.3s ease, transform 0.3s ease;
    opacity: 1;
    transform: scale(1);
  }

  .velada-hero__header.hidden {
    opacity: 0;
    transform: scale(0.95);
    pointer-events: none;
  }

  .velada-hero__selection {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: clamp(2rem, 4vw, 3rem);
    width: 100%;
    max-width: 1400px;
  }

  .velada-hero__title {
    font-family: 'Montserrat', sans-serif;
    font-size: clamp(2rem, 5vw, 3.2rem);
    font-weight: 900;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    margin: 0;
    color: #ffffff;
    filter: drop-shadow(0 0 30px rgba(248, 113, 113, 0.4));
  }

  html:not(.dark) .velada-hero__title {
    color: #0f172a;
    filter: drop-shadow(0 0 20px rgba(220, 38, 38, 0.2));
  }

  .velada-hero__title span {
    background: linear-gradient(90deg, #ef4444 0%, #fb7185 50%, #fda4af 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .velada-hero__subtitle {
    font-size: clamp(0.85rem, 2vw, 1rem);
    color: rgba(255, 255, 255, 0.65);
    letter-spacing: 0.02em;
    margin: 0;
  }

  html:not(.dark) .velada-hero__subtitle {
    color: rgba(15, 23, 42, 0.7);
  }

  .velada-hero__spotlight {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: clamp(16rem, 28vw, 22rem);
    aspect-ratio: 2 / 3;
    border-radius: clamp(1.5rem, 3vw, 2rem);
    border: 2px solid rgba(220, 38, 38, 0.6);
    background: #000000;
    overflow: hidden;
    box-shadow:
      0 0 140px rgba(220, 38, 38, 0.7),
      0 50px 120px -50px rgba(220, 38, 38, 0.9),
      0 0 0 1px rgba(220, 38, 38, 0.3) inset;
    opacity: 0;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
  }

  html:not(.dark) .velada-hero__spotlight {
    border: 2px solid rgba(220, 38, 38, 0.3);
    background: #ffffff;
    box-shadow:
      0 0 80px rgba(220, 38, 38, 0.25),
      0 50px 120px -50px rgba(220, 38, 38, 0.35),
      0 0 0 1px rgba(220, 38, 38, 0.15) inset;
  }

  .velada-hero__spotlight.visible {
    opacity: 1;
    pointer-events: auto;
    animation: spotlight-pulse 3s ease-in-out infinite;
  }

  @keyframes spotlight-pulse {
    0%, 100% {
      box-shadow:
        0 0 140px rgba(220, 38, 38, 0.7),
        0 50px 120px -50px rgba(220, 38, 38, 0.9),
        0 0 0 1px rgba(220, 38, 38, 0.3) inset;
    }
    50% {
      box-shadow:
        0 0 180px rgba(220, 38, 38, 0.9),
        0 50px 120px -50px rgba(220, 38, 38, 1),
        0 0 0 1px rgba(220, 38, 38, 0.5) inset;
    }
  }

  .velada-hero__spotlight-glow {
    position: absolute;
    inset: -30%;
    background: radial-gradient(circle at center, rgba(248, 113, 113, 0.4), transparent 70%);
    filter: blur(100px);
    opacity: 0.6;
    z-index: 0;
  }

  .velada-hero__portrait-image {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center top;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.6s ease;
    z-index: 1;
  }

  .velada-hero__portrait-image.is-swapping {
    opacity: 0;
    transform: scale(0.95);
  }

  .velada-hero__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to top,
      rgba(0, 0, 0, 1) 0%,
      rgba(0, 0, 0, 0.8) 25%,
      rgba(0, 0, 0, 0.4) 50%,
      transparent 70%
    );
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: clamp(2rem, 5vw, 3rem);
    gap: 1.5rem;
    z-index: 2;
  }

  html:not(.dark) .velada-hero__overlay {
    background: linear-gradient(
      to top,
      rgba(255, 255, 255, 1) 0%,
      rgba(255, 255, 255, 0.95) 25%,
      rgba(255, 255, 255, 0.6) 50%,
      transparent 70%
    );
  }

  .velada-hero__info-container {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    text-align: center;
  }

  .velada-hero__alias {
    font-size: clamp(0.65rem, 1.5vw, 0.75rem);
    letter-spacing: 0.5em;
    text-transform: uppercase;
    color: #dc2626;
    font-weight: 700;
    text-shadow: 0 0 20px rgba(220, 38, 38, 0.6);
  }

  html:not(.dark) .velada-hero__alias {
    text-shadow: none;
  }

  .velada-hero__name {
    font-family: 'Montserrat', sans-serif;
    font-size: clamp(1.8rem, 4vw, 2.8rem);
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    margin: 0;
    line-height: 1.1;
    color: #ffffff;
    text-shadow: 0 0 40px rgba(220, 38, 38, 0.6), 0 2px 8px rgba(0, 0, 0, 0.8);
  }

  html:not(.dark) .velada-hero__name {
    color: #0f172a;
    text-shadow: 0 0 30px rgba(220, 38, 38, 0.3), 0 2px 6px rgba(0, 0, 0, 0.2);
  }

  .velada-hero__role {
    font-size: clamp(0.7rem, 1.6vw, 0.85rem);
    letter-spacing: 0.35em;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.85);
    margin: 0;
    font-weight: 600;
  }

  html:not(.dark) .velada-hero__role {
    color: rgba(15, 23, 42, 0.8);
  }

  .velada-hero__cta {
    align-self: center;
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    border-radius: 999px;
    padding: 0.95rem 2.4rem;
    font-size: 0.7rem;
    font-weight: 800;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    background: linear-gradient(135deg, #dc2626 0%, #ef4444 50%, #dc2626 100%);
    background-size: 200% 100%;
    color: #fff;
    border: 2px solid rgba(220, 38, 38, 0.5);
    box-shadow:
      0 0 40px rgba(220, 38, 38, 0.7),
      0 25px 60px -25px rgba(220, 38, 38, 0.9),
      0 0 0 1px rgba(220, 38, 38, 0.3) inset;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-decoration: none;
    position: relative;
    overflow: hidden;
  }

  .velada-hero__cta::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transform: translateX(-100%);
    transition: transform 0.6s;
  }

  .velada-hero__cta:hover::before {
    transform: translateX(100%);
  }

  .velada-hero__cta:hover {
    transform: translateY(-4px) scale(1.05);
    background-position: 100% 0;
    border-color: rgba(220, 38, 38, 0.8);
    box-shadow:
      0 0 60px rgba(220, 38, 38, 0.9),
      0 30px 70px -25px rgba(220, 38, 38, 1),
      0 0 0 1px rgba(220, 38, 38, 0.5) inset;
  }

  .velada-hero__cta-icon {
    width: 1.1rem;
    height: 1.1rem;
  }

  .velada-card {
    position: relative;
    width: clamp(10rem, 15vw, 13rem);
    aspect-ratio: 2 / 3;
    border-radius: 1.5rem;
    border: 2px solid rgba(220, 38, 38, 0.3);
    overflow: hidden;
    background: #000000;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    box-shadow:
      0 10px 40px rgba(0, 0, 0, 0.6),
      0 0 0 1px rgba(220, 38, 38, 0.2) inset,
      0 25px 60px -25px rgba(220, 38, 38, 0.25);
  }

  html:not(.dark) .velada-card {
    border: 2px solid rgba(220, 38, 38, 0.2);
    background: #ffffff;
    box-shadow:
      0 10px 40px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(220, 38, 38, 0.1) inset,
      0 25px 60px -25px rgba(220, 38, 38, 0.15);
  }

  .velada-card--left {
    justify-self: start;
  }

  .velada-card--right {
    justify-self: end;
  }

  .velada-card:focus {
    outline: none;
    box-shadow:
      0 0 0 3px rgba(248, 113, 113, 0.4),
      0 12px 40px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(248, 113, 113, 0.2) inset;
  }

  .velada-card[data-active='true'] {
    transform: translateY(-18px) scale(1.1);
    border-color: rgba(220, 38, 38, 0.9);
    box-shadow:
      0 0 80px rgba(220, 38, 38, 0.8),
      0 45px 110px -55px rgba(220, 38, 38, 1),
      0 0 0 1px rgba(220, 38, 38, 0.5) inset,
      0 25px 90px -25px rgba(220, 38, 38, 0.7);
  }

  .velada-card:hover {
    transform: translateY(-12px) scale(1.06);
    border-color: rgba(220, 38, 38, 0.6);
    box-shadow:
      0 15px 50px rgba(0, 0, 0, 0.6),
      0 0 50px rgba(220, 38, 38, 0.4),
      0 0 0 1px rgba(220, 38, 38, 0.3) inset,
      0 30px 70px -25px rgba(220, 38, 38, 0.5);
  }

  .velada-card__glow {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 0%, rgba(220, 38, 38, 0.7), rgba(220, 38, 38, 0.4) 40%, transparent 70%);
    border-radius: inherit;
    opacity: 0;
    transition: opacity 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    mix-blend-mode: screen;
    pointer-events: none; /* Permitir clicks a través del glow */
    z-index: 1;
  }

  .velada-card:hover .velada-card__glow {
    opacity: 0.7;
  }

  .velada-card[data-active='true'] .velada-card__glow {
    opacity: 0.95;
  }

  .velada-card__frame {
    position: relative;
    display: grid;
    height: 100%;
    grid-template-rows: 1fr auto;
  }

  .velada-card__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: grayscale(100%) brightness(0.7);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 0;
  }

  .velada-card:hover .velada-card__image,
  .velada-card[data-active='true'] .velada-card__image {
    filter: grayscale(0%) brightness(1);
    transform: scale(1.08);
  }

  .velada-card__info {
    padding: 1.2rem 1rem 1.4rem;
    background: linear-gradient(0deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.95) 40%, rgba(0, 0, 0, 0.7) 70%, transparent 100%);
    display: grid;
    gap: 0.25rem;
    text-align: center;
    z-index: 2;
    position: relative;
  }

  html:not(.dark) .velada-card__info {
    background: linear-gradient(0deg, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.95) 40%, rgba(255, 255, 255, 0.7) 70%, transparent 100%);
  }

  .velada-card__alias {
    font-size: clamp(0.5rem, 1vw, 0.6rem);
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: #dc2626;
    font-weight: 700;
    text-shadow: 0 0 15px rgba(220, 38, 38, 0.5);
  }

  html:not(.dark) .velada-card__alias {
    text-shadow: none;
  }

  .velada-card__name {
    font-family: 'Montserrat', sans-serif;
    font-size: clamp(0.85rem, 1.8vw, 1rem);
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    line-height: 1.2;
    color: #ffffff;
  }

  html:not(.dark) .velada-card__name {
    color: #0f172a;
  }

  .velada-card__role {
    font-size: clamp(0.55rem, 1.1vw, 0.65rem);
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.7);
    font-weight: 600;
  }

  html:not(.dark) .velada-card__role {
    color: rgba(15, 23, 42, 0.7);
  }

  @keyframes nebula-pulse {
    0% {
      opacity: 0.7;
      transform: scale(1);
    }
    50% {
      opacity: 0.95;
      transform: scale(1.08);
    }
    100% {
      opacity: 0.75;
      transform: scale(1.03);
    }
  }

  @keyframes stars-moving {
    0% {
      background-position: 0% 0%;
    }
    50% {
      background-position: 50% 50%;
    }
    100% {
      background-position: 100% 100%;
    }
  }

  @keyframes stars-twinkle {
    0%, 100% {
      opacity: 0.5;
    }
    20% {
      opacity: 0.95;
    }
    40% {
      opacity: 0.3;
    }
    60% {
      opacity: 1;
    }
    80% {
      opacity: 0.4;
    }
  }

  @keyframes particles-float {
    0% {
      background-position: 0 0, 50px 60px, 130px 270px, 70px 100px, 200px 150px, 30px 40px;
    }
    33% {
      background-position: 100px 120px, 140px 170px, 230px 360px, 130px 180px, 280px 230px, 80px 100px;
    }
    66% {
      background-position: 200px 240px, 270px 310px, 380px 490px, 220px 280px, 390px 340px, 150px 170px;
    }
    100% {
      background-position: 300px 300px, 350px 360px, 480px 570px, 290px 350px, 450px 400px, 180px 200px;
    }
  }

  @media (max-width: 960px) {
    .velada-hero__selection {
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto;
      gap: clamp(1rem, 2vw, 1.5rem);
    }

    .velada-hero__center {
      grid-column: 1 / -1;
      order: 1;
      min-height: clamp(20rem, 40vw, 28rem);
    }

    .velada-card--left {
      order: 2;
      justify-self: center;
    }

    .velada-card--right {
      order: 3;
      justify-self: center;
    }

    .velada-card {
      width: clamp(9rem, 38vw, 12rem);
    }

    .velada-hero__spotlight {
      width: clamp(14rem, 45vw, 20rem);
    }
  }

  @media (max-width: 768px) {
    .velada-hero {
      padding: clamp(1.5rem, 4vw, 2rem) 1.25rem clamp(2rem, 5vw, 3rem);
    }

    .velada-hero__title {
      font-size: clamp(1.6rem, 5vw, 2.2rem);
    }

    .velada-hero__selection {
      gap: 1rem;
    }

    .velada-hero__overlay {
      padding: clamp(1.2rem, 3.5vw, 1.8rem);
      gap: 0.9rem;
    }

    .velada-hero__name {
      font-size: clamp(1.4rem, 4.5vw, 2rem);
    }

    .velada-card {
      width: clamp(7.5rem, 32vw, 10rem);
    }

    .velada-hero__spotlight {
      width: clamp(13rem, 55vw, 18rem);
      z-index: 5;
    }

    .velada-card--left,
    .velada-card--right {
      z-index: 1;
    }
  }

  @media (max-width: 640px) {
    .velada-hero {
      padding: 1.5rem 1rem 2rem;
    }

    .velada-hero__title {
      font-size: clamp(1.4rem, 6vw, 1.8rem);
      letter-spacing: 0.08em;
    }

    .velada-hero__subtitle {
      font-size: 0.7rem;
    }

    .velada-hero__selection {
      gap: 0.75rem;
      grid-template-columns: 1fr auto 1fr;
      align-items: flex-start;
    }

    .velada-hero__center {
      min-height: clamp(22rem, 50vw, 28rem);
    }

    .velada-hero__spotlight {
      width: clamp(12rem, 60vw, 16rem);
      z-index: 10;
    }

    .velada-hero__overlay {
      padding: 1rem;
      gap: 0.7rem;
    }

    .velada-hero__name {
      font-size: clamp(1.2rem, 5.5vw, 1.8rem);
      letter-spacing: 0.08em;
    }

    .velada-hero__cta {
      padding: 0.7rem 1.6rem;
      font-size: 0.55rem;
      letter-spacing: 0.25em;
    }

    .velada-card {
      width: clamp(6.5rem, 28vw, 8.5rem);
      margin-top: 2rem;
    }

    .velada-card--left,
    .velada-card--right {
      align-self: flex-start;
      z-index: 2;
    }

    .velada-card__info {
      padding: 0.8rem 0.65rem 1rem;
      gap: 0.15rem;
    }

    .velada-card__alias {
      letter-spacing: 0.2em;
      font-size: 0.4rem;
    }

    .velada-card__name {
      font-size: clamp(0.65rem, 2.5vw, 0.8rem);
    }

    .velada-card__role {
      letter-spacing: 0.15em;
      font-size: 0.45rem;
    }
  }
</style>
